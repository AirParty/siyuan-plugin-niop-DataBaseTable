# 作用
1. 将数据库中的数据渲染为卡片或者表格
2. 使用表格导入数据到数据库中

# 更新原因
v0.8.5 导入不再新建文件,导入内容按照原表格顺序,导入,现在支持日期,格式yyyy-mm-dd,可以输入两个日期用逗号分隔,分别表示开始时间和结束时间.
v0.8.4  `alt+鼠标点击`设置过DatabaseTable的表格，可以打开设置菜单.右侧和下侧渲染支持`单行`和`单列`了
v0.8.3 真支持多选和单选了,增加新建文件名的特殊符号检测。表格内容解析改进.避免之前有概率没解析的情况。还有几个忘记记录的bug。
v0.8.2 修复思源2.11 api更新导致数据库默认只读取100个，新建文件多线程->单线程避免报错。
# 使用方法
## 渲染数据
[MD不支持预览，可以点开网页看演示](https://github.com/AirParty/siyuan-plugin-niop-DataBaseTable/assets/7642279/112f9f2b-bb60-48df-bc0c-fa160874a16b)
1. 复制数据库块ID
2. 在需要渲染的表格处使用"/"菜单或者块标菜单内->插件，选择数据表格
3. 输入数据库块ID，然后选渲染方,点击渲染
4. 之后可以使用`alt+鼠标点击`快速打开设置菜单
### 设定
1. 怎么读取数值？
    使用..(数据名称)
2. 怎么设置宽度?
    拖拽原始表格的宽度，生成视图的时候会匹配原始表格的宽度
3. 怎么设置高度？
    Card模式下 在表格的第一列中输入..style(行样式内容),比如..style(height:120px)就是设置高度为120
4. 怎么设置颜色等？
..style()内可以输入任何想要的样式。颜色就是 `background-color: #333  ;`  这里的#333就是颜色。
## 导入数据
[importTool](https://github.com/AirParty/siyuan-plugin-niop-DataBaseTable/assets/7642279/22d25560-0acf-4575-8e2a-831ec7204625)
1. 在设置中打开<导入工具>的开关
2. 可能需要关闭再打开一次插件。
3. 使用 '/' 菜单打开<表格数据导入工具>
4. 输入表格块的ID和数据库块的ID，点击导入
### ！！！ 导入数据工具的`注意事项`
1. 输入表格的第一列必须是和数据库的主键(也就是默认block)同名，（一定要同名！）不然会按照第一列的名称新建一大堆文档。
2. 暂时只有匹配了文本 数字 图片/资源 单选 多选
3. 导入的时候检测到没有的块会在当前文档下自动新建 日期/新数据块名称  然后再导入数据。
4. 一次导入新的块最好少于设置中`最大列出数量`,可能出bug
5. 主键里面的特殊符号在导入的时候会被删除，因为文档名不支持大多数特殊符号。
6. 导入`多选`的时候使用`,`作为分隔符。例如 吉他,贝斯,钢琴 会被识别为3个选项
7. 单选和多选必须在数据库内设置过有该选项的才能导入。
## 其他零碎
1. 向下渲染要求原始表格中的数据栏都放在最下一行，同理右侧渲染要求全部都放在右边。
2. 表格渲染的结果依然是表格可以编辑，但是假如你点了插件菜单中的编辑，那么表格会变回去原始表格。所以不要用生成的表格编辑，你可以删除自定义属性中的“nioptable”就变回普通表格了。
3. 导入数据时,当后台在计算的时候,可以关闭数据库所在页面,能大幅度提高计算速度.